<form [formGroup]="userProfile" (ngSubmit)="dataForm()">
  <div class="mb-3">
    <label for="first_name">Nombre:</label>
    <input class="form-control" type="text" formControlName="first_name" id="first_name" pattern="^[A-Z][a-zA-Z '.-]*[A-Za-z][^-]$">
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('first_name', 'required')">Campo es requerido</p>
    <p class="error" *ngIf="checkControl('first_name', 'minlength')">La longitud minima es de 3 caracteres</p>
    <p class="error" *ngIf="checkControl('first_name', 'pattern')">No admite caracteres especiales</p>
  </div>
  <div class="mb-3">
    <label for="last_name">Apellidos:</label>
    <input class="form-control" type="text" formControlName="last_name" id="last_name" pattern="^[A-Z][a-zA-Z '.-]*[A-Za-z][^-]$">
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('last_name', 'required')">Campo es requerido</p>
    <p class="error" *ngIf="checkControl('last_name', 'minlength')">La longitud minima es de 3 caracteres</p>
    <p class="error" *ngIf="checkControl('first_name', 'pattern')">No admite caracteres especiales</p>
  </div>
  <div class="mb-3">
    <label for="username">Apodo:</label>
    <input class="form-control" type="text" formControlName="username" id="username">
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('username', 'required')">Campo es requerido</p>
    <p class="error" *ngIf="checkControl('username', 'minlength')">La longitud minima es de 3 caracteres</p>
  </div>
  <div class="mb-3">
    <label for="email">Email:</label>
    <input class="form-control" type="text" formControlName="email" id="email">
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('email', 'required')">Campo es requerido</p>
    <p class="error" *ngIf="checkControl('email', 'pattern')">El email tiene formato incorrecto</p>
  </div>
  <div class="mb-3">
    <label for="password">Contraseña:</label>
    <input class="form-control" type="password" formControlName="password" id="password">
    <!-- Contador de caracteres -->
    <p [ngClass]="{'red-text': userProfile.get('password')?.touched && (userProfile.get('password')?.value?.length < 6 || userProfile.get('password')?.value?.length > 20)}">
      {{ userProfile.get('password')?.value?.length || 0 }} / 20 caracteres
    </p>
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('password', 'required')">Campo es requerido</p>
    <p class="error" *ngIf="checkControl('password', 'minlength')">La contraseña debe contener al menos 6 caracteres</p>
    <p class="error" *ngIf="checkControl('password', 'maxlength')">La contraseña debe contener no más de 20 caracteres</p>
  </div>
  <div class="mb-3">
    <label for="image">URL de imagen:</label>
    <input class="form-control" type="text" formControlName="image" id="image">
    <!-- VALIDACIÓN -->
    <p class="error" *ngIf="checkControl('image', 'required')">Campo es requerido</p>
  </div>

  <input type="submit" class="btn btn-info" value="Actualizar cambios" [disabled]="!userProfile.valid">
</form>
